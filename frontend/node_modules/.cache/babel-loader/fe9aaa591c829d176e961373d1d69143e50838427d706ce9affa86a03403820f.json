{"ast":null,"code":"import axios from \"axios\";\nconst API_BASE_URL = \"http://localhost:8081\";\nconst api = axios.create({\n  baseURL: API_BASE_URL\n});\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem(\"token\");\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\napi.interceptors.response.use(response => response, error => {\n  var _error$response;\n  console.error(\"API Error:\", ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n  return Promise.reject(error);\n});\nexport const authAPI = {\n  login: async credentials => {\n    const response = await api.post(\"/auth/token\", credentials);\n    return response.data;\n  },\n  register: async userData => {\n    const response = await api.post(\"/users\", userData);\n    return response.data;\n  }\n};\nexport const teamAPI = {\n  getMyTeam: async teamId => {\n    const response = await api.get(`/teams/${teamId}?with_players=true`);\n    return response.data;\n  },\n  updateTeam: async (teamId, teamData) => {\n    const response = await api.patch(`/teams/${teamId}`, teamData);\n    return response.data;\n  }\n};\nexport const playerAPI = {\n  updatePlayer: async (teamId, playerId, playerData) => {\n    const response = await api.patch(`/teams/${teamId}/players/${playerId}`, playerData);\n    return response.data;\n  }\n};\nexport const transferAPI = {\n  getTransfers: async () => {\n    const response = await api.get(\"/transfers\");\n    return response.data;\n  },\n  createTransfer: async (teamId, playerId, askPrice) => {\n    const response = await api.post(`/teams/${teamId}/transfers`, {\n      playerId,\n      askPrice: askPrice.toString()\n    });\n    return response.data;\n  },\n  buyPlayer: async (teamId, transferId) => {\n    await api.post(`/teams/${teamId}/transfers/${transferId}`);\n  }\n};\nexport default api;","map":{"version":3,"names":["axios","API_BASE_URL","api","create","baseURL","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","response","error","_error$response","console","data","message","Promise","reject","authAPI","login","credentials","post","register","userData","teamAPI","getMyTeam","teamId","get","updateTeam","teamData","patch","playerAPI","updatePlayer","playerId","playerData","transferAPI","getTransfers","createTransfer","askPrice","toString","buyPlayer","transferId"],"sources":["E:/workplace/toptal/soccer-manager/frontend/src/services/api.ts"],"sourcesContent":["import axios from \"axios\";\nimport { Team, Player, Transfer } from '../types';\n\nconst API_BASE_URL = \"http://localhost:8081\";\n\nexport interface LoginRequest {\n  email: string;\n  password: string;\n}\n\nexport interface RegisterRequest {\n  email: string;\n  password: string;\n  fullName: string;\n  role?: string;\n}\n\nexport interface AuthResponse {\n  userId: string;\n  teamId: string;\n  token: string;\n}\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n});\n\napi.interceptors.request.use((config) => {\n  const token = localStorage.getItem(\"token\");\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\napi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    console.error(\"API Error:\", error.response?.data || error.message);\n    return Promise.reject(error);\n  }\n);\n\nexport const authAPI = {\n  login: async (credentials: LoginRequest): Promise<AuthResponse> => {\n    const response = await api.post(\"/auth/token\", credentials);\n    return response.data;\n  },\n  \n  register: async (userData: RegisterRequest): Promise<AuthResponse> => {\n    const response = await api.post(\"/users\", userData);\n    return response.data;\n  },\n};\n\nexport const teamAPI = {\n  getMyTeam: async (teamId: string): Promise<Team> => {\n    const response = await api.get(`/teams/${teamId}?with_players=true`);\n    return response.data;\n  },\n  \n  updateTeam: async (teamId: string, teamData: Partial<Team>): Promise<Team> => {\n    const response = await api.patch(`/teams/${teamId}`, teamData);\n    return response.data;\n  },\n};\n\nexport const playerAPI = {\n  updatePlayer: async (teamId: string, playerId: string, playerData: Partial<Player>): Promise<Player> => {\n    const response = await api.patch(`/teams/${teamId}/players/${playerId}`, playerData);\n    return response.data;\n  },\n};\n\nexport const transferAPI = {\n  getTransfers: async (): Promise<Transfer[]> => {\n    const response = await api.get(\"/transfers\");\n    return response.data;\n  },\n  \n  createTransfer: async (teamId: string, playerId: string, askPrice: number): Promise<Transfer> => {\n    const response = await api.post(`/teams/${teamId}/transfers`, {\n      playerId,\n      askPrice: askPrice.toString(),\n    });\n    return response.data;\n  },\n  \n  buyPlayer: async (teamId: string, transferId: string): Promise<void> => {\n    await api.post(`/teams/${teamId}/transfers/${transferId}`);\n  },\n};\n\nexport default api;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}