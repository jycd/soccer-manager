{"ast":null,"code":"import axios from \"axios\";\nconst API_BASE_URL = \"http://localhost:8081\";\nconst api = axios.create({\n  baseURL: API_BASE_URL\n});\napi.interceptors.request.use(config => {\n  var _config$method;\n  const token = localStorage.getItem(\"token\");\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  // Debug logging\n  console.log('API Request:', {\n    method: (_config$method = config.method) === null || _config$method === void 0 ? void 0 : _config$method.toUpperCase(),\n    url: config.url,\n    headers: config.headers,\n    data: config.data\n  });\n  return config;\n});\nexport const authAPI = {\n  login: async credentials => {\n    const response = await api.post('/auth/token', credentials);\n    return response.data;\n  },\n  register: async userData => {\n    const response = await api.post('/users', userData);\n    return response.data;\n  }\n};\nexport const teamAPI = {\n  getMyTeam: async teamId => {\n    const response = await api.get(`/teams/${teamId}?with_players=true`);\n    return response.data;\n  },\n  updateTeam: async (teamId, teamData) => {\n    const response = await api.patch(`/teams/${teamId}`, teamData);\n    return response.data;\n  }\n};\nexport const playerAPI = {\n  updatePlayer: async (teamId, playerId, playerData) => {\n    const response = await api.patch(`/teams/${teamId}/players/${playerId}`, playerData);\n    return response.data;\n  }\n};\nexport const transferAPI = {\n  getTransfers: async () => {\n    const response = await api.get('/transfers');\n    return response.data;\n  },\n  createTransfer: async (teamId, playerId, askingPrice) => {\n    const response = await api.post(`/teams/${teamId}/transfers`, {\n      playerId,\n      askingPrice\n    });\n    return response.data;\n  },\n  buyPlayer: async transferId => {\n    await api.post(`/transfers/${transferId}/buy`);\n  }\n};\nexport default api;","map":{"version":3,"names":["axios","API_BASE_URL","api","create","baseURL","interceptors","request","use","config","_config$method","token","localStorage","getItem","headers","Authorization","console","log","method","toUpperCase","url","data","authAPI","login","credentials","response","post","register","userData","teamAPI","getMyTeam","teamId","get","updateTeam","teamData","patch","playerAPI","updatePlayer","playerId","playerData","transferAPI","getTransfers","createTransfer","askingPrice","buyPlayer","transferId"],"sources":["E:/workplace/toptal/soccer-manager/frontend/src/services/api.ts"],"sourcesContent":["import axios from \"axios\";\nimport { Team, Player, Transfer } from '../types';\n\nconst API_BASE_URL = \"http://localhost:8081\";\n\nexport interface LoginRequest {\n  email: string;\n  password: string;\n}\n\nexport interface RegisterRequest {\n  email: string;\n  password: string;\n  fullName: string;\n  role?: string;\n}\n\nexport interface AuthResponse {\n  userId: string;\n  teamId: string;\n  token: string;\n}\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n});\n\napi.interceptors.request.use((config) => {\n  const token = localStorage.getItem(\"token\");\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  // Debug logging\n  console.log('API Request:', {\n    method: config.method?.toUpperCase(),\n    url: config.url,\n    headers: config.headers,\n    data: config.data\n  });\n  return config;\n});\n\nexport const authAPI = {\n  login: async (credentials: LoginRequest): Promise<AuthResponse> => {\n    const response = await api.post('/auth/token', credentials);\n    return response.data;\n  },\n  \n  register: async (userData: RegisterRequest): Promise<AuthResponse> => {\n    const response = await api.post('/users', userData);\n    return response.data;\n  },\n};\n\nexport const teamAPI = {\n  getMyTeam: async (teamId: string): Promise<Team> => {\n    const response = await api.get(`/teams/${teamId}?with_players=true`);\n    return response.data;\n  },\n  \n  updateTeam: async (teamId: string, teamData: Partial<Team>): Promise<Team> => {\n    const response = await api.patch(`/teams/${teamId}`, teamData);\n    return response.data;\n  },\n};\n\nexport const playerAPI = {\n  updatePlayer: async (teamId: string, playerId: string, playerData: Partial<Player>): Promise<Player> => {\n    const response = await api.patch(`/teams/${teamId}/players/${playerId}`, playerData);\n    return response.data;\n  },\n};\n\nexport const transferAPI = {\n  getTransfers: async (): Promise<Transfer[]> => {\n    const response = await api.get('/transfers');\n    return response.data;\n  },\n  \n  createTransfer: async (teamId: string, playerId: string, askingPrice: number): Promise<Transfer> => {\n    const response = await api.post(`/teams/${teamId}/transfers`, {\n      playerId,\n      askingPrice,\n    });\n    return response.data;\n  },\n  \n  buyPlayer: async (transferId: string): Promise<void> => {\n    await api.post(`/transfers/${transferId}/buy`);\n  },\n};\n\nexport default api;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}