{"ast":null,"code":"import axios from \"axios\";\nconst API_BASE_URL = \"http://localhost:8081\";\nconst api = axios.create({\n  baseURL: API_BASE_URL\n});\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem(\"token\");\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\nexport const authAPI = {\n  login: async credentials => {\n    const response = await api.post('/auth/token', credentials);\n    return response.data;\n  },\n  register: async userData => {\n    const response = await api.post('/users', userData);\n    return response.data;\n  }\n};\nexport const teamAPI = {\n  getMyTeam: async teamId => {\n    const response = await api.get(`/teams/${teamId}?with_players=true`);\n    return response.data;\n  },\n  updateTeam: async (teamId, teamData) => {\n    const response = await api.patch(`/teams/${teamId}`, teamData);\n    return response.data;\n  }\n};\nexport const playerAPI = {\n  updatePlayer: async (teamId, playerId, playerData) => {\n    const response = await api.patch(`/teams/${teamId}/players/${playerId}`, playerData);\n    return response.data;\n  }\n};\nexport const transferAPI = {\n  getTransfers: async () => {\n    const response = await api.get('/transfers');\n    return response.data;\n  },\n  createTransfer: async (teamId, playerId, askingPrice) => {\n    const response = await api.post(`/teams/${teamId}/transfers`, {\n      playerId,\n      askingPrice\n    });\n    return response.data;\n  },\n  buyPlayer: async transferId => {\n    await api.post(`/transfers/${transferId}/buy`);\n  }\n};\nexport default api;","map":{"version":3,"names":["axios","API_BASE_URL","api","create","baseURL","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","authAPI","login","credentials","response","post","data","register","userData","teamAPI","getMyTeam","teamId","get","updateTeam","teamData","patch","playerAPI","updatePlayer","playerId","playerData","transferAPI","getTransfers","createTransfer","askingPrice","buyPlayer","transferId"],"sources":["E:/workplace/toptal/soccer-manager/frontend/src/services/api.ts"],"sourcesContent":["import axios from \"axios\";\nimport { Team, Player, Transfer } from '../types';\n\nconst API_BASE_URL = \"http://localhost:8081\";\n\nexport interface LoginRequest {\n  email: string;\n  password: string;\n}\n\nexport interface RegisterRequest {\n  email: string;\n  password: string;\n}\n\nexport interface AuthResponse {\n  userId: string;\n  teamId: string;\n  token: string;\n}\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n});\n\napi.interceptors.request.use((config) => {\n  const token = localStorage.getItem(\"token\");\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\nexport const authAPI = {\n  login: async (credentials: LoginRequest): Promise<AuthResponse> => {\n    const response = await api.post('/auth/token', credentials);\n    return response.data;\n  },\n  \n  register: async (userData: RegisterRequest): Promise<AuthResponse> => {\n    const response = await api.post('/users', userData);\n    return response.data;\n  },\n};\n\nexport const teamAPI = {\n  getMyTeam: async (teamId: string): Promise<Team> => {\n    const response = await api.get(`/teams/${teamId}?with_players=true`);\n    return response.data;\n  },\n  \n  updateTeam: async (teamId: string, teamData: Partial<Team>): Promise<Team> => {\n    const response = await api.patch(`/teams/${teamId}`, teamData);\n    return response.data;\n  },\n};\n\nexport const playerAPI = {\n  updatePlayer: async (teamId: string, playerId: string, playerData: Partial<Player>): Promise<Player> => {\n    const response = await api.patch(`/teams/${teamId}/players/${playerId}`, playerData);\n    return response.data;\n  },\n};\n\nexport const transferAPI = {\n  getTransfers: async (): Promise<Transfer[]> => {\n    const response = await api.get('/transfers');\n    return response.data;\n  },\n  \n  createTransfer: async (teamId: string, playerId: string, askingPrice: number): Promise<Transfer> => {\n    const response = await api.post(`/teams/${teamId}/transfers`, {\n      playerId,\n      askingPrice,\n    });\n    return response.data;\n  },\n  \n  buyPlayer: async (transferId: string): Promise<void> => {\n    await api.post(`/transfers/${transferId}/buy`);\n  },\n};\n\nexport default api;\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAGzB,MAAMC,YAAY,GAAG,uBAAuB;AAkB5C,MAAMC,GAAG,GAAGF,KAAK,CAACG,MAAM,CAAC;EACvBC,OAAO,EAAEH;AACX,CAAC,CAAC;AAEFC,GAAG,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,IAAK;EACvC,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAIF,KAAK,EAAE;IACTD,MAAM,CAACI,OAAO,CAACC,aAAa,GAAG,UAAUJ,KAAK,EAAE;EAClD;EACA,OAAOD,MAAM;AACf,CAAC,CAAC;AAEF,OAAO,MAAMM,OAAO,GAAG;EACrBC,KAAK,EAAE,MAAOC,WAAyB,IAA4B;IACjE,MAAMC,QAAQ,GAAG,MAAMf,GAAG,CAACgB,IAAI,CAAC,aAAa,EAAEF,WAAW,CAAC;IAC3D,OAAOC,QAAQ,CAACE,IAAI;EACtB,CAAC;EAEDC,QAAQ,EAAE,MAAOC,QAAyB,IAA4B;IACpE,MAAMJ,QAAQ,GAAG,MAAMf,GAAG,CAACgB,IAAI,CAAC,QAAQ,EAAEG,QAAQ,CAAC;IACnD,OAAOJ,QAAQ,CAACE,IAAI;EACtB;AACF,CAAC;AAED,OAAO,MAAMG,OAAO,GAAG;EACrBC,SAAS,EAAE,MAAOC,MAAc,IAAoB;IAClD,MAAMP,QAAQ,GAAG,MAAMf,GAAG,CAACuB,GAAG,CAAC,UAAUD,MAAM,oBAAoB,CAAC;IACpE,OAAOP,QAAQ,CAACE,IAAI;EACtB,CAAC;EAEDO,UAAU,EAAE,MAAAA,CAAOF,MAAc,EAAEG,QAAuB,KAAoB;IAC5E,MAAMV,QAAQ,GAAG,MAAMf,GAAG,CAAC0B,KAAK,CAAC,UAAUJ,MAAM,EAAE,EAAEG,QAAQ,CAAC;IAC9D,OAAOV,QAAQ,CAACE,IAAI;EACtB;AACF,CAAC;AAED,OAAO,MAAMU,SAAS,GAAG;EACvBC,YAAY,EAAE,MAAAA,CAAON,MAAc,EAAEO,QAAgB,EAAEC,UAA2B,KAAsB;IACtG,MAAMf,QAAQ,GAAG,MAAMf,GAAG,CAAC0B,KAAK,CAAC,UAAUJ,MAAM,YAAYO,QAAQ,EAAE,EAAEC,UAAU,CAAC;IACpF,OAAOf,QAAQ,CAACE,IAAI;EACtB;AACF,CAAC;AAED,OAAO,MAAMc,WAAW,GAAG;EACzBC,YAAY,EAAE,MAAAA,CAAA,KAAiC;IAC7C,MAAMjB,QAAQ,GAAG,MAAMf,GAAG,CAACuB,GAAG,CAAC,YAAY,CAAC;IAC5C,OAAOR,QAAQ,CAACE,IAAI;EACtB,CAAC;EAEDgB,cAAc,EAAE,MAAAA,CAAOX,MAAc,EAAEO,QAAgB,EAAEK,WAAmB,KAAwB;IAClG,MAAMnB,QAAQ,GAAG,MAAMf,GAAG,CAACgB,IAAI,CAAC,UAAUM,MAAM,YAAY,EAAE;MAC5DO,QAAQ;MACRK;IACF,CAAC,CAAC;IACF,OAAOnB,QAAQ,CAACE,IAAI;EACtB,CAAC;EAEDkB,SAAS,EAAE,MAAOC,UAAkB,IAAoB;IACtD,MAAMpC,GAAG,CAACgB,IAAI,CAAC,cAAcoB,UAAU,MAAM,CAAC;EAChD;AACF,CAAC;AAED,eAAepC,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}